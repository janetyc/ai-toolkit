(this.webpackJsonpaitoolkit=this.webpackJsonpaitoolkit||[]).push([[0],{234:function(e,t,a){e.exports=a(447)},240:function(e,t,a){},434:function(e,t,a){},447:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(56),o=a.n(c),i=(a(239),a(40)),l=a(50),u=a(464),s=a(463),m=a(35),p=(a(240),a(8)),d=a.n(p),f=a(9),b=a(21),h=a(455),g=a(461),E=a(31),j=a.n(E);function y(){return(y=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/get_all_projects");case 2:return t=e.sent,e.abrupt("return",t.data.all_projects);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){return y.apply(this,arguments)})().then(c)}),[]),r.a.createElement(h.a,null,r.a.createElement(g.a.Group,{style:{marginTop:"2em"},itemsPerRow:4},a.map((function(e,t){return r.a.createElement(g.a,{key:t,href:"/#/project/"+e.id},r.a.createElement(g.a.Content,null,r.a.createElement(g.a.Header,null,"Project: ",e.title),r.a.createElement(g.a.Description,null,e.description)))}))))},v=a(465),w=a(22),k=a(222),x=a(206),S=a.n(x),_=a(70),T=function(e){var t=e.setImages,a=Object(n.useCallback)((function(e){e.forEach((function(e){var a=new FileReader;a.onload=function(e){console.log("upload image"),t((function(t){return[].concat(Object(w.a)(t),[{id:S()(),src:e.target.result}])}))},a.readAsDataURL(e)}))}),[t]),c=Object(k.a)({onDrop:a}),o=c.getRootProps,i=c.getInputProps,l=c.isDragActive;return r.a.createElement("div",Object.assign({className:"ui center aligned secondary segment"},o()),r.a.createElement(_.a,{name:"cloud upload",size:"big"}),r.a.createElement("input",i()),l?r.a.createElement("p",null,"Drop the files here ..."):r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files"))},R=a(462),L=a(456),C={display:"inline",width:100,height:100,padding:"3px"};function P(){return(P=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/add_images",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var t=e.statusCallback,a=e.projectId,c=Object(n.useState)([]),o=Object(f.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),p=m[0],d=m[1];return r.a.createElement("div",null,p&&r.a.createElement(R.a,{active:!0,inverted:!0},r.a.createElement(L.a,{size:"medium"},"Uploading")),r.a.createElement(T,{setImages:l}),r.a.createElement("div",null,i.map((function(e){return r.a.createElement("img",{key:e.id,src:e.src,style:C})}))),i.length>0&&r.a.createElement(s.a,{color:"teal",fluid:!0,size:"small",onClick:function(){d(!0);var e={};i.map((function(t){e[t.id]=t.src})),function(e){return P.apply(this,arguments)}({project_id:a,data:e}).then((function(e){e.success&&(d(!1),l([]),t(!0))}))}},"Submit"))},A=a(223),I=function(e){var t=e.imageList;return r.a.createElement(h.a,null,r.a.createElement(g.a.Group,{itemsPerRow:5},t.map((function(e,t){return r.a.createElement(g.a,{key:e.key},r.a.createElement(g.a.Content,null,r.a.createElement(A.a,{src:e.image_url})),r.a.createElement(g.a.Content,{extra:!0},r.a.createElement(s.a,{attached:"bottom",as:i.b,to:"/annotateObjectStory/"+e.id},"Tell a Story")))}))))};function N(e){return F.apply(this,arguments)}function F(){return(F=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/get_project_by_id",{project_id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(f.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),p=m[0],d=m[1],b=t.params.pid;return Object(n.useEffect)((function(){N(b).then((function(e){l(e.data),d(e.image_data)})),console.log("fetch")}),[]),r.a.createElement(h.a,null,r.a.createElement("div",{style:{marginTop:"2em"}},r.a.createElement(v.a,{as:"h2"},"Project: ",o.title,0!==p.length&&r.a.createElement(s.a,{style:{marginLeft:"7px"},color:"teal",as:i.b,to:"/annotate/"+b},"Start to Annotate")),r.a.createElement("p",null,o.description)),r.a.createElement("div",{style:{marginTop:"2em"}},r.a.createElement(D,{statusCallback:function(e){N(b).then((function(e){l(e.data),d(e.image_data)})),console.log("upload fetch")},projectId:b})),r.a.createElement("div",{style:{marginTop:"3em"}},r.a.createElement(I,{imageList:p})))},z=a(79),B=a(466),M=a(458),q=a(467),X=a(105);function Y(){return(Y=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/add_project",t);case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(z.b)(),i=o.register,u=o.errors,m=o.handleSubmit;return r.a.createElement(h.a,null,a&&r.a.createElement(l.a,{to:"/projects"}),r.a.createElement(B.a,{textAlign:"center",style:{height:"80vh"},verticalAlign:"middle"},r.a.createElement(B.a.Column,{style:{maxWidth:450}},r.a.createElement(M.a,{size:"large",onSubmit:m((function(e,t){(function(e){return Y.apply(this,arguments)})(e).then((function(){c(!0),t.target.reset()}))}))},r.a.createElement(q.a,{stacked:!0},r.a.createElement(M.a.Field,null,r.a.createElement("input",{type:"hidden",name:"created_user",value:"web_user",ref:i}),r.a.createElement("input",{placeholder:"Project title",name:"title",ref:i({required:!0})}),u.title&&r.a.createElement(X.a,{pointing:!0,prompt:!0},"Project title is required")),r.a.createElement(M.a.Field,null,r.a.createElement("input",{placeholder:"Description",name:"description",ref:i({required:!0})}),u.description&&r.a.createElement(X.a,{pointing:!0,prompt:!0},"Project description is required")),r.a.createElement(s.a,{color:"teal",fluid:!0,size:"large"},"Add Project"))))))},G=a(49),U=a(24),V=function(e){var t=e.x,a=e.y,n=e.width,c=e.height,o=e.stroke,i=e.name;return r.a.createElement(U.Rect,{x:t,y:a,width:n,height:c,scaleX:1,scaleY:1,stroke:o,strokeWidth:2,name:i})},J=function(e){var t=e.x,a=e.y,c=e.width,o=e.height,i=e.name,l=e.stroke,u=e.onTransform,s=e.onEnter,m=e.onLeave,p=Object(n.useRef)();Object(n.useEffect)((function(){p.current.getLayer().batchDraw()}),[]);return r.a.createElement(U.Rect,{ref:p,x:t,y:a,width:c,height:o,scaleX:1,scaleY:1,stroke:l,strokeWidth:3,name:i,strokeScaleEnabled:!1,draggable:!0,onDragEnd:function(e){var t=e.target;u({x:t.x(),y:t.y()})},onTransformEnd:function(e){var t=e.target;t.setAttrs({width:t.width()*t.scaleX(),height:t.height()*t.scaleY(),scaleX:1,scaleY:1}),u({width:t.width(),height:t.height(),scaleX:t.scaleX(),scaleY:t.scaleY()})},onMouseEnter:function(e){var t=e.target;t.stroke("#8AE1FF"),t.getStage().container().style.cursor="move",p.current.getLayer().draw(),s(t.name())},onMouseLeave:function(e){var t=e.target;t.stroke("#2982F9"),t.getStage().container().style.cursor="crosshair",p.current.getLayer().draw(),m(t.name())}})};var $=function(e){var t=e.selectedShapeName,a=Object(n.useRef)();return Object(n.useEffect)((function(){var e=a.current.getStage().findOne(".".concat(t));e!==a.current.node()&&(e?a.current.attachTo(e):a.current.detach(),a.current.getLayer().batchDraw())}),[t]),r.a.createElement(U.Transformer,{ref:a,ignoreStroke:!0,rotateEnabled:!1})},K=a(80),Q=a.n(K);a(219);function Z(){return(Z=Object(b.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/get_predictions_by_image_url",{image_url:t,image_key:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/get_project_by_id",{project_id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(f.a)(a,2),o=(c[0],c[1]),i=Object(n.useState)([]),l=Object(f.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)([]),d=Object(f.a)(p,2),b=d[0],g=d[1],E=Object(n.useState)(!1),j=Object(f.a)(E,2),y=j[0],O=j[1],v=Object(n.useState)(!1),k=Object(f.a)(v,2),x=k[0],S=k[1],_=Object(n.useState)(0),T=Object(f.a)(_,2),R=T[0],L=T[1],C=Object(n.useState)({w:0,h:0}),P=Object(f.a)(C,2),D=P[0],A=P[1],I=Object(n.useState)(0),N=Object(f.a)(I,2),F=N[0],W=N[1],z=Object(n.useState)([]),B=Object(f.a)(z,2),M=B[0],q=B[1],X=Object(n.useState)(0),Y=Object(f.a)(X,2),H=Y[0],K=Y[1],te=Object(n.useRef)([]),ae=Object(n.useState)(""),ne=Object(f.a)(ae,2),re=ne[0],ce=ne[1],oe=Object(n.useState)(!1),ie=Object(f.a)(oe,2),le=ie[0],ue=ie[1],se=Object(n.useRef)([]),me=t.params.pid;function pe(e,t){S(!0),function(e,t){return Z.apply(this,arguments)}(e,t).then((function(e){if(e.success){g(e.data.predictions),S(!1);var t=e.data.image_size;A({w:t[0],h:t[1]})}}))}var de=function(e){if("Stage"===e.target.getType())return ue(!0),void ce("");if(!("Transformer"===e.target.getParent().className)){var t=e.target.name(),a=M.find((function(e){return e.name===t}));ce(a?t:"")}},fe=function(){ue(!1)};return Object(n.useEffect)((function(){(function(e){return ee.apply(this,arguments)})(me).then((function(e){o(e.data),se.current=[],e.image_data.map((function(e,t){m((function(t){return[].concat(Object(w.a)(t),[{id:e.id,key:e.key,image_url:e.image_url}])})),se.current[t]=Object(n.createRef)()})),O(!0)}))}),[]),r.a.createElement(h.a,null,r.a.createElement("div",null,y&&u.map((function(e,t){return r.a.createElement("img",{key:t,style:{display:"none"},src:e.image_url,ref:se.current[t],onLoad:function(){W(F+1)}})}))),r.a.createElement("div",null,y&&u.map((function(e,t){return r.a.createElement(s.a,{key:t,circular:!0,size:"tiny",onClick:function(){return function(e){L(e),g([]),q([])}(t)},content:t})}))),y&&F==u.length&&r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left",display:"block"}},r.a.createElement(U.Stage,{style:{float:"left"},width:se.current[R].current.width,height:se.current[R].current.height,onMouseDown:de,onTouchStart:de,onMouseUp:le&&fe,onTouchEnd:le&&fe},r.a.createElement(U.Layer,null,r.a.createElement(U.Image,{image:se.current[R].current})),r.a.createElement(U.Layer,null,!x&&b.map((function(e,t){return r.a.createElement(U.Group,{key:t},r.a.createElement(V,{x:e.box[1]*D.w,y:e.box[0]*D.h,width:(e.box[3]-e.box[1])*D.w,height:(e.box[2]-e.box[0])*D.h,stroke:"#33d6ff",strokeWidth:2,name:e.label+"-"+t}),r.a.createElement(U.Text,{x:e.box[1]*D.w,y:e.box[0]*D.h,fill:"#ccf5ff",fontSize:20,text:e.label}))}))),r.a.createElement(U.Layer,null,M.map((function(e,t){return r.a.createElement(J,Object.assign({ref:te.current[t].current,sclassName:"rect",key:e.key},e,{onTransform:function(e){!function(e,t){M[e]=Object(G.a)({},M[e],{},t),q((function(e){return Object(w.a)(e)}))}(t,e)}}))})),r.a.createElement($,{selectedShapeName:re})))),r.a.createElement("div",{style:{float:"left",marginLeft:"10px",display:"block"}},r.a.createElement(s.a,{onClick:function(e){e.preventDefault(),pe(u[R].image_url,u[R].key)}},"Predict"),!x&&b.map((function(e,t){return r.a.createElement("div",{key:t},e.label)}))),r.a.createElement("div",{style:{float:"left",marginLeft:"10px",display:"block"}},r.a.createElement(s.a,{onClick:function(e){e.preventDefault(),te.current[H]=Object(n.createRef)(),q((function(e){return[].concat(Object(w.a)(e),[{x:10,y:10,width:100,height:100,name:"rect".concat(H+1),stroke:"#cc0000",key:Q.a.generate(),ref:te.current[H].current}])})),K(H+1)}},"Add"))))},ae=a(457);a(434);function ne(){return(ne=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/add_objectstory",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/get_image_by_id",{image_id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/get_stories_by_image_id",{image_id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(f.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(!1),u=Object(f.a)(l,2),m=u[0],p=u[1],d=Object(n.useState)(!1),b=Object(f.a)(d,2),g=(b[0],b[1]),E=Object(n.useState)(!1),j=Object(f.a)(E,2),y=j[0],O=j[1],k=Object(n.useRef)(),x=Object(n.useState)([]),S=Object(f.a)(x,2),_=S[0],T=S[1],R=Object(n.useState)(0),L=Object(f.a)(R,2),C=(L[0],L[1],Object(n.useState)(!1)),P=Object(f.a)(C,2),D=(P[0],P[1]),A=Object(n.useState)([]),I=Object(f.a)(A,2),N=I[0],F=I[1],W=Object(n.useState)(0),q=Object(f.a)(W,2),Y=q[0],H=q[1],V=Object(n.useRef)([]),K=Object(n.useState)(""),Z=Object(f.a)(K,2),ee=Z[0],te=Z[1],oe=Object(n.useState)(""),ie=Object(f.a)(oe,2),le=ie[0],ue=ie[1],se=Object(n.useState)(!1),me=Object(f.a)(se,2),pe=me[0],de=me[1],fe=t.params.imgid,be=Object(n.useState)(""),he=Object(f.a)(be,2),ge=he[0],Ee=(he[1],Object(z.b)({mode:"onBlur",defaultValue:{story:"",object:[]}})),je=Ee.control,ye=Ee.register,Oe=Ee.errors,ve=Ee.formState,we=Ee.handleSubmit,ke=Object(z.a)({control:je,name:"object"}),xe=ke.append,Se=ke.remove,_e=function(e){if("Stage"===e.target.getType())return de(!0),void te("");if(!("Transformer"===e.target.getParent().className)){var t=e.target.name(),a=N.find((function(e){return e.name===t}));te(a?t:"")}},Te=function(){de(!1)};return Object(n.useEffect)((function(){(function(e){return re.apply(this,arguments)})(fe).then((function(e){i(e.data),p(!0)})),console.log("fetch image url")}),[]),Object(n.useEffect)((function(){(function(e){return ce.apply(this,arguments)})(fe).then((function(e){T(e.data),console.log(e.data),g(!0)})),console.log("fetch story data")}),[]),r.a.createElement(h.a,null,m&&r.a.createElement(B.a,{celled:!0},r.a.createElement(B.a.Row,null,r.a.createElement("img",{style:{display:"none"},src:o.image_url,ref:k,onLoad:function(){O(!0)}}),r.a.createElement(B.a.Column,{width:12},y&&r.a.createElement(U.Stage,{width:800,height:k.current.height*(800/k.current.width),onMouseDown:_e,onTouchStart:_e,onMouseUp:pe&&Te,onTouchEnd:pe&&Te},r.a.createElement(U.Layer,null,r.a.createElement(U.Image,{image:k.current,width:800,height:k.current.height*(800/k.current.width)})),r.a.createElement(U.Layer,null,_.map((function(e,t){return e.object_list.map((function(e,t){return r.a.createElement(U.Rect,{key:Q.a.generate(),x:800*e.x,y:e.y*k.current.height*(800/k.current.width),width:800*e.w,height:e.h*k.current.height*(800/k.current.width),scaleX:1,scaleY:1,stroke:"#ff3333",strokeWidth:2})}))}))),r.a.createElement(U.Layer,null,N.map((function(e,t){return r.a.createElement(J,Object.assign({sclassName:"rect",key:e.key},e,{onTransform:function(e){!function(e,t){N[e]=Object(G.a)({},N[e],{},t),F((function(e){return Object(w.a)(e)}))}(t,e)},onEnter:function(e){ue(e)},onLeave:function(e){ue("")}}))})),r.a.createElement($,{selectedShapeName:ee})))),r.a.createElement(B.a.Column,{width:4},r.a.createElement(M.a,{onSubmit:we((function(e,t){var a=[],n=k.current.height*(800/k.current.width);e.object.map((function(e,t){a.push({label:e.name,x:N[t].x/800,y:N[t].y/n,w:N[t].width/800,h:N[t].height/n})})),function(e){return ne.apply(this,arguments)}({created_user:ge,image_id:fe,story:e.story,object_list:a}).then((function(){D(!0),t.target.reset(),F([])}))}))},r.a.createElement(B.a.Row,null,r.a.createElement(v.a,{as:"h4",block:!0},"Step 1: Tell a story"),r.a.createElement("div",null,"Some ",r.a.createElement("b",null,"invisible people")," (one or many) were doing something in this photo; however you cannot see them but only their traces.",r.a.createElement("br",null),r.a.createElement("br",null),"Please speculate a possible story or scenario to describe ",r.a.createElement("b",null,"WHO")," and ",r.a.createElement("b",null,"WHAT activity")," are they doing."),r.a.createElement("textarea",{placeholder:"Tell us a story about this image",style:{marginTop:"6px",minHeight:"50px"},name:"story",ref:ye({required:!0})}),Oe.story&&r.a.createElement(X.a,{pointing:!0,prompt:!0},"Story is required")),r.a.createElement(B.a.Row,{style:{marginTop:"2em"}},r.a.createElement(v.a,{as:"h4",block:!0},"Step 2: Identify key objects"),r.a.createElement("div",null,"Please identify ",r.a.createElement("b",null,"key objects")," that shape your your written story."),r.a.createElement(s.a,{fluid:!0,color:"blue",onClick:function(e){e.preventDefault(),V.current[Y]=Object(n.createRef)();var t=Q.a.generate();F((function(e){return[].concat(Object(w.a)(e),[{x:10,y:10,width:100,height:100,key:t,name:"rect".concat(t),stroke:"#2982F9",lable:"none"}])})),xe({name:t}),H(Y+1)},style:{marginTop:"6px",marginBottom:"6px"}},"Add An Object"),N.map((function(e,t){return r.a.createElement("div",{key:e.key,style:{marginBottom:"2px"},className:"".concat(le==e.name?"hoveredBox":""),onMouseEnter:function(){!function(e,t){t.stroke="#8AE1FF",N[e]=Object(G.a)({},N[e],{},t),F((function(e){return Object(w.a)(e)})),ue(t.name)}(t,e)},onMouseLeave:function(){!function(e,t){t.stroke="#2982F9",N[e]=Object(G.a)({},N[e],{},t),F((function(e){return Object(w.a)(e)})),ue("")}(t,e)}},r.a.createElement("div",{className:"ui icon input",style:{width:"100%"}},r.a.createElement("input",{type:"text",placeholder:"object "+(t+1),name:"object[".concat(t,"].name"),ref:ye({required:!0})}),r.a.createElement("i",{"aria-hidden":"true",className:"remove circular inverted link icon",onClick:function(){return e=t,N.splice(e,1),F((function(e){return Object(w.a)(e)})),H(Y-1),void Se(e);var e}})))}))),0!==N.length&&r.a.createElement(B.a.Row,{style:{marginTop:"5em"}},ve.isValid&&r.a.createElement(s.a,{fluid:!0,color:"teal",style:{marginBottom:"6px"}},"Submit this story!"),!ve.isValid&&r.a.createElement(s.a,{disabled:!0,fluid:!0,color:"teal",style:{marginBottom:"6px"}},"Submit this story!"))))),r.a.createElement(B.a.Row,null,r.a.createElement(B.a.Column,{width:16},_.map((function(e,t){return r.a.createElement(B.a.Row,{key:"story-"+t},r.a.createElement("div",null,"Story ",t+1,": ",e.story,e.object_list.map((function(e,a){return r.a.createElement(X.a,{style:{marginLeft:"3px"},key:"obj-"+t+"-"+a,color:"grey",mini:!0},e.label)})),r.a.createElement(ae.a,null)))}))))))},ie=a(460);function le(){return(le=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/get_project_by_id",{project_id:t.toString()});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/get_all_projects");case 2:return t=e.sent,e.abrupt("return",t.data.all_projects);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1],o=function(e,t){console.log("fetch "+e),console.log(a[e]),"image_data"in a[e]?console.log("fetch already!!!"):(console.log("fetch data from project "+t),function(e){return le.apply(this,arguments)}(t).then((function(t){a[e]=Object(G.a)({},a[e],{image_data:t.image_data}),c((function(e){return Object(w.a)(e)}))}))),console.log(e),console.log(a)};return Object(n.useEffect)((function(){(function(){return ue.apply(this,arguments)})().then((function(e){e.map((function(e){c((function(t){return[].concat(Object(w.a)(t),[{data:e}])}))}))}))}),[]),r.a.createElement(h.a,null,r.a.createElement(ie.a.Group,{divided:!0},a.map((function(e,t){return r.a.createElement(ie.a,{key:t},r.a.createElement(ie.a.Content,null,r.a.createElement(ie.a.Header,null,e.data.title),r.a.createElement(ie.a.Description,null,e.data.description),r.a.createElement(ie.a.Extra,null,r.a.createElement(s.a,{onClick:function(){return o(t,e.data.id)}},"See Details ",e.id)),r.a.createElement(ie.a.Extra,null,r.a.createElement(g.a.Group,{itemsPerRow:5},"image_data"in e&&e.image_data.map((function(e,t){return r.a.createElement(g.a,{key:e.key},r.a.createElement(g.a.Content,null,r.a.createElement(A.a,{src:e.image_url})),r.a.createElement(s.a,{attached:"bottom"},"Delete"))}))))))}))))},me=Object(m.a)(),pe=r.a.createElement(i.a,{history:me},r.a.createElement(u.a,null,r.a.createElement(u.a.Item,null,r.a.createElement(i.b,{to:"/"},"Home")),r.a.createElement(u.a.Item,{position:"right"},r.a.createElement(s.a,{color:"teal",as:i.b,to:"/addProject"},"Add Project"))),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:O}),r.a.createElement(l.b,{path:"/projects",component:O}),r.a.createElement(l.b,{path:"/project/:pid",component:W}),r.a.createElement(l.b,{path:"/annotate/:pid",component:te}),r.a.createElement(l.b,{path:"/addProject",component:H}),r.a.createElement(l.b,{path:"/annotateObjectStory/:imgid",component:oe}),r.a.createElement(l.b,{path:"/dashboard",component:se})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement("div",null,pe),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[234,1,2]]]);
//# sourceMappingURL=main.905a42b5.chunk.js.map