(this.webpackJsonpaitoolkit=this.webpackJsonpaitoolkit||[]).push([[0],{204:function(e,t,a){e.exports=a(361)},210:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(44),l=a.n(c),o=(a(209),a(38)),i=a(58),s=a(374),u=a(373),m=a(23),p=(a(210),a(15)),d=a.n(p),E=a(22),f=a(21),h=a(369),g=a(372),b=a(55),j=a.n(b);function v(){return(v=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/get_all_projects");case 2:return t=e.sent,console.log(t.data.all_projects),e.abrupt("return",t.data.all_projects);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){return v.apply(this,arguments)})().then(c)}),[]),r.a.createElement(h.a,null,r.a.createElement(g.a.Group,{style:{marginTop:"5em"},itemsPerRow:4},a.map((function(e,t){return r.a.createElement(g.a,{key:t},r.a.createElement(g.a.Content,null,r.a.createElement(g.a.Header,null,"Project: ",e.title),r.a.createElement(g.a.Description,null,e.description)))}))))},y=a(192),O=a(375),k=a(370),P=a(376),x=a(87);function D(){return(D=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/add_project",t);case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),a=t[0],c=t[1],l=Object(y.a)(),i=l.register,s=l.errors,m=l.handleSubmit;return r.a.createElement(h.a,null,a&&r.a.createElement(o.a,{to:"/projects"}),r.a.createElement(O.a,{textAlign:"center",style:{height:"80vh"},verticalAlign:"middle"},r.a.createElement(O.a.Column,{style:{maxWidth:450}},r.a.createElement(k.a,{size:"large",onSubmit:m((function(e,t){(function(e){return D.apply(this,arguments)})(e).then((function(){c(!0),t.target.reset()}))}))},r.a.createElement(P.a,{stacked:!0},r.a.createElement(k.a.Field,null,r.a.createElement("input",{type:"hidden",name:"created_user",value:"web_user",ref:i}),r.a.createElement("input",{placeholder:"Project title",name:"title",ref:i({required:!0})}),s.title&&r.a.createElement(x.a,{pointing:!0,prompt:!0},"Project title is required")),r.a.createElement(k.a.Field,null,r.a.createElement("input",{placeholder:"Description",name:"description",ref:i({required:!0})}),s.description&&r.a.createElement(x.a,{pointing:!0,prompt:!0},"Project description is required")),r.a.createElement(u.a,{color:"teal",fluid:!0,size:"large"},"Add Project"))))))},_=a(19),S=a(191),A=a(188),q=a.n(A),C=function(e){var t=e.setImages,a=Object(n.useCallback)((function(e){e.forEach((function(e){var a=new FileReader;a.onload=function(e){console.log("upload image"),t((function(t){return[].concat(Object(_.a)(t),[{id:q()(),src:e.target.result}])}))},a.readAsDataURL(e)}))}),[t]),c=Object(S.a)({onDrop:a}),l=c.getRootProps,o=c.getInputProps,i=c.isDragActive;return r.a.createElement("div",Object.assign({className:"ui center aligned tertiary blue inverted segment"},l()),r.a.createElement("input",o()),i?r.a.createElement("p",null,"Drop the files here ..."):r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files"))},F={display:"inline",width:100,height:100,padding:"3px"};function R(){return(R=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/add_images",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(E.a)(l,2);return o[0],o[1],r.a.createElement("div",null,r.a.createElement(C,{setImages:c}),r.a.createElement("div",null,a.map((function(e){return r.a.createElement("img",{key:e.id,src:e.src,style:F})}))),a.length>0&&r.a.createElement(u.a,{color:"teal",fluid:!0,size:"small",onClick:function(){new FormData;var e={};a.map((function(t){e[t.id]=t.src})),function(e){return R.apply(this,arguments)}(e).then((function(e){e.success&&(console.log(e.data.images),c([]))}))}},"Submit"))};var W=function(){return r.a.createElement("div",null)},B=Object(m.a)(),H=r.a.createElement(o.c,{history:B},r.a.createElement(s.a,null,r.a.createElement(s.a.Item,null,r.a.createElement(i.a,{to:"/"},"Home")),r.a.createElement(s.a.Item,null,r.a.createElement(i.a,{to:"/projects"},"Projects")),r.a.createElement(s.a.Item,null,r.a.createElement(i.a,{to:"/dashboard"},"Dashboard")),r.a.createElement(s.a.Item,{position:"right"},r.a.createElement(u.a,{color:"teal",as:i.a,to:"/addProject"},"Add Project"))),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/"},r.a.createElement(z,null)),r.a.createElement(o.b,{path:"/projects",component:w}),r.a.createElement(o.b,{path:"/projects/:id"}),r.a.createElement(o.b,{path:"/dashboard",component:W}),r.a.createElement(o.b,{path:"/addProject",component:I})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement("div",null,H),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[204,1,2]]]);
//# sourceMappingURL=main.4a53b98a.chunk.js.map